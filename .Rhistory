source('~/Apps with shiny/Buscador - Links/Buscador out of shiny.R', echo=TRUE)
View(General)
source('~/Apps with shiny/Buscador - Links/Reset DB.R', echo=TRUE)
source('~/Apps with shiny/Buscador - Links/Buscador out of shiny.R', echo=TRUE)
source('~/Apps with shiny/Buscador - Links/Reset DB.R', echo=TRUE)
source('~/Apps with shiny/Buscador - Links/Buscador out of shiny.R', echo=TRUE)
source('~/Apps with shiny/Buscador - Links/Reset DB.R', echo=TRUE)
source('~/Apps with shiny/Buscador - Links/Buscador out of shiny.R', echo=TRUE)
View(General)
source('~/Apps with shiny/Buscador - Links/Buscador out of shiny.R', echo=TRUE)
source('~/Apps with shiny/Buscador - Links/Reset DB.R', echo=TRUE)
source('~/Apps with shiny/Buscador - Links/Buscador out of shiny.R', echo=TRUE)
View(General)
source('~/Apps with shiny/Buscador - Links/Reset DB.R', echo=TRUE)
source('~/Apps with shiny/Buscador - Links/Buscador out of shiny.R', echo=TRUE)
source('~/Apps with shiny/Buscador - Links/Reset DB.R', echo=TRUE)
source('~/Apps with shiny/Buscador - Links/Buscador out of shiny.R', echo=TRUE)
View(General)
source('~/Apps with shiny/Buscador - Links/Reset DB.R', echo=TRUE)
source('~/Apps with shiny/Buscador - Links/Buscador out of shiny.R', echo=TRUE)
View(General)
warnings
source('~/Apps with shiny/Buscador - Links/Buscador out of shiny.R', echo=TRUE)
warnings()
View(General)
General[365,2]
source('~/Apps with shiny/Buscador - Links/Reset DB.R', echo=TRUE)
source('~/Apps with shiny/Buscador - Links/Buscador out of shiny.R', echo=TRUE)
View(General)
source('~/Apps with shiny/Buscador - Links/Reset DB.R', echo=TRUE)
source('~/Apps with shiny/Buscador - Links/Reset DB.R', echo=TRUE)
source('~/Apps with shiny/Buscador - Links/Buscador out of shiny.R', echo=TRUE)
View(General)
source('~/.active-rstudio-document', echo=TRUE)
source('~/Apps with shiny/Buscador - Links/Buscador out of shiny.R', echo=TRUE)
View(General)
source('~/.active-rstudio-document', echo=TRUE)
source('~/Apps with shiny/Buscador - Links/Buscador out of shiny.R', echo=TRUE)
source('~/Apps with shiny/Buscador - Links/Buscador out of shiny.R', echo=TRUE)
View(General)
source('~/Apps with shiny/Buscador - Links/Buscador out of shiny.R', echo=TRUE)
source('~/Apps with shiny/Buscador - Links/Buscador out of shiny.R', echo=TRUE)
source('~/Apps with shiny/Buscador - Links/Buscador out of shiny.R', echo=TRUE)
View(General)
View(General)
source('~/Apps with shiny/Buscador - Links/Buscador out of shiny.R', echo=TRUE)
View(links)
View(General)
source('~/Apps with shiny/Buscador - Links/Buscador out of shiny.R', echo=TRUE)
View(General)
source('~/Apps with shiny/Buscador - Links/Buscador out of shiny.R', echo=TRUE)
source('~/Apps with shiny/Buscador - Links/Buscador out of shiny.R', echo=TRUE)
source('~/Apps with shiny/Buscador - Links/Buscador out of shiny.R', echo=TRUE)
source('~/Apps with shiny/Buscador - Links/Buscador out of shiny.R', echo=TRUE)
View(General)
General[1351,3]
source('~/Apps with shiny/Buscador - Links/Buscador out of shiny.R', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/Apps with shiny/Buscador - Links/Buscador out of shiny.R', echo=TRUE)
source('~/Apps with shiny/Buscador - Links/Buscador out of shiny.R', echo=TRUE)
source('~/Apps with shiny/Buscador - Links/Buscador out of shiny.R', echo=TRUE)
View(General)
source('~/Apps with shiny/Buscador - Links/Buscador out of shiny.R', echo=TRUE)
URL
source('~/Apps with shiny/Buscador - Links/Buscador out of shiny.R', echo=TRUE)
URL
View(General)
source('~/Apps with shiny/Buscador - Links/Buscador out of shiny.R', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/Apps with shiny/Buscador - Links/Buscador out of shiny.R', echo=TRUE)
URL
source('~/.active-rstudio-document', echo=TRUE)
source('~/Apps with shiny/Buscador - Links/Buscador out of shiny.R', echo=TRUE)
source('~/Apps with shiny/Buscador - Links/Buscador out of shiny.R', echo=TRUE)
View(General)
caca <- General[grepl("bandcamp", General[,1]) == FALSE,]
View(caca)
caca[12001,1]
View(caca)
View(caca)
URL
source('~/Apps with shiny/Buscador - Links/Hace lista de keywords.R', echo=TRUE)
source('~/Apps with shiny/Buscador - Links/Hace lista de keywords.R', echo=TRUE)
"pepe" in target_words
for (x in target_words) { print(x)}
source('~/Apps with shiny/Buscador - Links/Buscador out of shiny 2.R', echo=TRUE)
source('~/Apps with shiny/Buscador - Links/Buscador out of shiny 2.R', echo=TRUE)
URL
description <- data.frame(str_split(texto, "Description\" content= \""), stringsAsFactors=FALSE)
View(description)
View(description)
texto
texto <- gsub("\"", " ", texto)
texto
texto
texto
source('~/Apps with shiny/Buscador - Links/Buscador out of shiny 2.R', echo=TRUE)
source('~/Apps with shiny/Buscador - Links/Buscador out of shiny 2.R', echo=TRUE)
source('~/Apps with shiny/Buscador - Links/Buscador out of shiny 2.R', echo=TRUE)
source('~/Apps with shiny/Buscador - Links/Buscador out of shiny 2.R', echo=TRUE)
source('~/Apps with shiny/Buscador - Links/Buscador out of shiny 2.R', echo=TRUE)
General[, "description"] <- ""
saveRDS(General, file = "LinkBot.rds")
source('~/Apps with shiny/Buscador - Links/Buscador out of shiny 2.R', echo=TRUE)
warnings()
source('~/Apps with shiny/Buscador - Links/Buscador out of shiny 2.R', echo=TRUE)
source('~/Apps with shiny/Buscador - Links/Buscador out of shiny 2.R', echo=TRUE)
source('~/Apps with shiny/Buscador - Links/Reset DB.R', echo=TRUE)
source('~/Apps with shiny/Buscador - Links/Reset DB.R', echo=TRUE)
source('~/Apps with shiny/Buscador - Links/Buscador out of shiny 2.R', echo=TRUE)
source('~/Apps with shiny/Buscador - Links/Buscador out of shiny 2.R', echo=TRUE)
source('~/Apps with shiny/Buscador - Links/Reset DB.R', echo=TRUE)
source('~/Apps with shiny/Buscador - Links/Buscador out of shiny 2.R', echo=TRUE)
source('~/Apps with shiny/Buscador - Links/Reset DB.R', echo=TRUE)
source('~/Apps with shiny/Buscador - Links/Buscador out of shiny 2.R', echo=TRUE)
texto_desc
source('~/Apps with shiny/Buscador - Links/Buscador out of shiny 2.R', echo=TRUE)
source('~/Apps with shiny/Buscador - Links/Reset DB.R', echo=TRUE)
source('~/Apps with shiny/Buscador - Links/Buscador out of shiny 2.R', echo=TRUE)
texto_desc
source('~/Apps with shiny/Buscador - Links/Reset DB.R', echo=TRUE)
source('~/Apps with shiny/Buscador - Links/Buscador out of shiny 2.R', echo=TRUE)
description
View(description)
View(description)
source('~/Apps with shiny/Buscador - Links/Reset DB.R', echo=TRUE)
source('~/Apps with shiny/Buscador - Links/Buscador out of shiny 2.R', echo=TRUE)
source('~/Apps with shiny/Buscador - Links/Reset DB.R', echo=TRUE)
source('~/Apps with shiny/Buscador - Links/Buscador out of shiny 2.R', echo=TRUE)
source('~/Apps with shiny/Buscador - Links/Reset DB.R', echo=TRUE)
source('~/Apps with shiny/Buscador - Links/Buscador out of shiny 2.R', echo=TRUE)
source('~/Apps with shiny/Buscador - Links/Reset DB.R', echo=TRUE)
source('~/Apps with shiny/Buscador - Links/Buscador out of shiny 2.R', echo=TRUE)
source('~/Apps with shiny/Buscador - Links/Reset DB.R', echo=TRUE)
source('~/Apps with shiny/Buscador - Links/Buscador out of shiny 2.R', echo=TRUE)
View(General)
source('~/Apps with shiny/Buscador - Links/Reset DB.R', echo=TRUE)
source('~/Apps with shiny/Buscador - Links/Buscador out of shiny 2.R', echo=TRUE)
View(General)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
mydb = dbConnect(MySQL(), user='Ghelfi', password='Campito1', host='fulbito2.c6ujpfgulqhl.eu-west-1.rds.amazonaws.com')
dbSendQuery(Players, "CREATE TABLE Titulares (title VARCHAR(50));")
dbSendQuery("Players", "CREATE TABLE Titulares (title VARCHAR(50));")
dbSendQuery(mydb, "CREATE TABLE books (title VARCHAR(50));")
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
rm(list = ls())
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
dbConnect(MySQL(), user='Ghelfi', password='Campito1', host='fulbito2.c6ujpfgulqhl.eu-west-1.rds.amazonaws.com')
pepe = dbConnect(MySQL(), user='Ghelfi', password='Campito1', host='fulbito2.c6ujpfgulqhl.eu-west-1.rds.amazonaws.com')
dbListTables(mydb)
dbListTables("Players")
dbListTables(pepe)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
dbListTables(pepe)
source('~/.active-rstudio-document', echo=TRUE)
dbListTables(pepe)
dbSendQuery(pepe, "INSERT INTO titulares (titulares) VALUES('Vacante');")
dbSendQuery(pepe, "INSERT INTO titulares (Jugador) VALUES('Vacante');")
last_id = fetch(dbSendQuery(pepe, "SELECT LAST_INSERT_ID();"))
View(last_id)
caca <- fetch(dbSendQuery(pepe, "SELECT Jugador FROM titulares;"))
View(caca)
source('~/.active-rstudio-document', echo=TRUE)
View(caca)
caca <- fetch(dbSendQuery(pepe, "SELECT Jugador FROM titulares WHERE id= '3';"))
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
num <- 2
paste("Caca \"", num, "\");")
paste("INSERT INTO titulares (Jugador, Camiseta) VALUES('Vacante', \"", num, "\");")
paste("INSERT INTO titulares (Jugador, Camiseta) VALUES('Vacante', \"", num, "\");", sep = "")
source('~/.active-rstudio-document', echo=TRUE)
dbSendQuery(pepe, "CREATE TABLE titulares (Jugador VARCHAR(50), Camiseta INT);")
ALTER TABLE pepe ADD Camiseta int;
dbSendQuery(pepe, "ALTER TABLE pepe ADD Camiseta int;")
dbSendQuery(pepe, "ALTER TABLE titulares ADD Camiseta int;")
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
dbDisconnect(db)
dbDisconnect(pepe)
dbDisconnect(pepe)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
View(last_id)
View(caca)
source('~/.active-rstudio-document', echo=TRUE)
View(Todos)
View(caca)
source('~/.active-rstudio-document', echo=TRUE)
View(Todos)
View(caca)
source('~/.active-rstudio-document', echo=TRUE)
View(caca)
source('~/.active-rstudio-document', echo=TRUE)
View(Todos)
DELETE FROM table_name WHERE some_column = some_value;
dbSendQuery(pepe, "DELETE FROM titulares WHERE some_column = *;")
dbSendQuery(pepe, "Truncate table titulares;")
Todos <- fetch(dbSendQuery(pepe, "SELECT * FROM titulares;"))
View(Todos)
source('~/Apps with shiny/Buscador - Links/Test MySQL.R', echo=TRUE)
dbDisconnect(pepe)
dbDisconnect(pepe)
dbDisconnect(pepe)
dbDisconnect(pepe)
source('~/Apps with shiny/Buscador - Links/Test MySQL.R', echo=TRUE)
View(Todos)
dbDisconnect(pepe)
pepe = dbConnect(MySQL(), user='Ghelfi',
password='Campito1',
host='fulbito2.c6ujpfgulqhl.eu-west-1.rds.amazonaws.com',
dbname="Players")
library(RMySQL)
pepe = dbConnect(MySQL(), user='Ghelfi',
password='Campito1',
host='fulbito2.c6ujpfgulqhl.eu-west-1.rds.amazonaws.com',
dbname="Players")
Todos <- fetch(dbSendQuery(pepe, "SELECT * FROM titulares;"))
dbDisconnect(pepe)
dbDisconnect(pepe)
View(Todos)
dbSendQuery(pepe, "UPDATE titulares SET Jugador = "Fran" WHERE Camiseta = "3";")
dbSendQuery(pepe, "UPDATE titulares SET Jugador = Fran WHERE Camiseta = 3;")
pepe = dbConnect(MySQL(), user='Ghelfi',
password='Campito1',
host='fulbito2.c6ujpfgulqhl.eu-west-1.rds.amazonaws.com',
dbname="Players")
Todos <- fetch(dbSendQuery(pepe, "SELECT * FROM titulares;"))
View(Todos)
dbSendQuery(pepe, "UPDATE titulares SET Jugador = Fran WHERE Camiseta = 3;")
dbDisconnect(pepe)
sarasa <- paste("UPDATE titulares SET Jugador = \"Fran\" WHERE Camiseta = 3;")
sarasa
source('~/Apps with shiny/Buscador - Links/Test MySQL.R', echo=TRUE)
View(Todos)
Todos <- fetch(dbSendQuery(pepe, "SELECT * FROM titulares;"))
source('~/Apps with shiny/Buscador - Links/Test MySQL.R', echo=TRUE)
View(Todos)
source('~/Apps with shiny/Buscador - Links/Test MySQL.R', echo=TRUE)
View(Todos)
source('~/Apps with shiny/Buscador - Links/Test MySQL.R', echo=TRUE)
rm(list = ls())
shiny::runApp('Apps with shiny/Fulbito')
dbDisconnect(data_connect)
shiny::runApp('Apps with shiny/Fulbito')
for_render_1
paste("SELECT Jugador FROM titulares WHERE Camiseta= \"1\";")
shiny::runApp('Apps with shiny/Fulbito')
dbDisconnect(data_connect)
shiny::runApp('Apps with shiny/Fulbito')
dbDisconnect(data_connect)
shiny::runApp('Apps with shiny/Fulbito')
shiny::runApp('Apps with shiny/Fulbito')
source('~/Apps with shiny/Buscador - Links/Test MySQL.R', echo=TRUE)
View(Todos)
shiny::runApp('Apps with shiny/Fulbito')
shiny::runApp('Apps with shiny/Fulbito')
pepe = dbConnect(MySQL(), user='Ghelfi',
password='Campito1',
host='fulbito2.c6ujpfgulqhl.eu-west-1.rds.amazonaws.com',
dbname="Players")
dbSendQuery(pepe, "CREATE TABLE suplentes (Jugador VARCHAR(50), Camiseta INT);")
for (x in 1:5) {
##    requete<-paste("INSERT INTO suplentes (Jugador, Camiseta) VALUES('Vacante', \"", x, "\");", sep = "")
##    dbSendQuery(pepe, requete)}
Todos <- fetch(dbSendQuery(pepe, "SELECT * FROM suplentes;"))
dbDisconnect(pepe)
source('~/Apps with shiny/Buscador - Links/Test MySQL.R', echo=TRUE)
View(Todos)
shiny::runApp('Apps with shiny/Fulbito')
shiny::runApp('Apps with shiny/Fulbito')
rm(list = ls())
shiny::runApp('Apps with shiny/Fulbito')
shiny::runApp('Apps with shiny/Fulbito')
shiny::runApp('Apps with shiny/Fulbito')
shiny::runApp('Apps with shiny/Fulbito')
shiny::runApp('Apps with shiny/Fulbito')
dbDisconnect(pepe)
shiny::runApp('Apps with shiny/Fulbito')
shiny::runApp('Apps with shiny/Fulbito')
shiny::runApp('Apps with shiny/Fulbito')
shiny::runApp('Apps with shiny/Fulbito')
shiny::runApp('Apps with shiny/Fulbito')
shiny::runApp('Apps with shiny/Fulbito')
shiny::runApp('Apps with shiny/Fulbito')
shiny::runApp('Apps with shiny/Fulbito')
shiny::runApp('Apps with shiny/Fulbito')
x <- 3
paste("UPDATE titulares SET Jugador = \"",Titulares[x,"Jugador"],"\" WHERE Camiseta = \"",x,"\";", sep = "")
Titulares[x, "Jugador"] <- "caca"
caca <- "Fran"
paste("UPDATE titulares SET Jugador = \"",caca,"\" WHERE Camiseta = \"",x,"\";", sep = "")
shiny::runApp('Apps with shiny/Fulbito')
shiny::runApp('Apps with shiny/Fulbito')
shiny::runApp('Apps with shiny/Fulbito')
shiny::runApp('Apps with shiny/Fulbito')
shiny::runApp('Apps with shiny/Fulbito')
shiny::runApp('Apps with shiny/Fulbito')
pepe = dbConnect(MySQL(), user='Ghelfi',
password='Campito1',
host='fulbito2.c6ujpfgulqhl.eu-west-1.rds.amazonaws.com',
dbname="Players")
dbSendQuery(pepe, "CREATE TABLE reset_date (Tipo VARCHAR(50), Fecha DATE);")
Todos <- fetch(dbSendQuery(pepe, "SELECT * FROM reset_date;"))
View(Todos)
dbSendQuery(pepe, "INSERT INTO reset_date (Tipo, Fecha) VALUES ("Reset", "2015-09-28");")
dbSendQuery(pepe, "INSERT INTO reset_date (Tipo, Fecha) VALUES("Reset", "2015-09-28");")
Todos <- fetch(dbSendQuery(pepe, "SELECT * FROM reset_date;"))
dbSendQuery(pepe, "INSERT INTO reset_date (Tipo, Fecha) VALUES("Reset", 2015-09-28);")
dbSendQuery(pepe, "INSERT INTO reset_date (Tipo, Fecha) VALUES("Reset", "caca");")
dbSendQuery(pepe, "INSERT INTO reset_date (Tipo, Fecha) VALUES(\"Reset\", \"2015-09-28\");")
Todos <- fetch(dbSendQuery(pepe, "SELECT * FROM reset_date;"))
View(Todos)
dbSendQuery(pepe, "INSERT INTO reset_date (Tipo, Fecha) VALUES(\"Last\", \"2015-09-24\");")
Todos <- fetch(dbSendQuery(pepe, "SELECT * FROM reset_date;"))
View(Todos)
dbDisconnect(pepe)
shiny::runApp('Apps with shiny/Fulbito')
dbDisconnect(pepe)
shiny::runApp('Apps with shiny/Fulbito')
shiny::runApp('Apps with shiny/Fulbito')
shiny::runApp('Apps with shiny/Fulbito')
shiny::runApp('Apps with shiny/Fulbito')
shiny::runApp('Apps with shiny/Fulbito')
shiny::runApp('Apps with shiny/Fulbito')
source('~/Apps with shiny/Buscador - Links/Reset DB.R', echo=TRUE)
source('~/Apps with shiny/Buscador - Links/Buscador out of shiny.R', echo=TRUE)
source('~/Apps with shiny/Buscador - Links/Buscador out of shiny.R', echo=TRUE)
View(General)
links
source('~/Apps with shiny/Buscador - Links/Reset DB.R', echo=TRUE)
source('~/Apps with shiny/Buscador - Links/Buscador out of shiny 2.R', echo=TRUE)
source('~/Apps with shiny/Buscador - Links/Reset DB.R', echo=TRUE)
source('~/Apps with shiny/Buscador - Links/Buscador out of shiny 2.R', echo=TRUE)
source('~/Apps with shiny/Buscador - Links/Reset DB.R', echo=TRUE)
source('~/Apps with shiny/Buscador - Links/Buscador out of shiny 2.R', echo=TRUE)
source('~/Apps with shiny/Buscador - Links/Reset DB.R', echo=TRUE)
source('~/Apps with shiny/Buscador - Links/Buscador out of shiny 2.R', echo=TRUE)
rm(list = ls())
source('~/Apps with shiny/Buscador - Links/Buscador out of shiny 2.R', echo=TRUE)
source('~/Apps with shiny/Buscador - Links/Reset DB.R', echo=TRUE)
source('~/Apps with shiny/Buscador - Links/Buscador out of shiny 2.R', echo=TRUE)
source('~/Apps with shiny/Buscador - Links/Reset DB.R', echo=TRUE)
source('~/Apps with shiny/Buscador - Links/Buscador out of shiny 2.R', echo=TRUE)
source('~/Apps with shiny/Buscador - Links/Reset DB.R', echo=TRUE)
source('~/Apps with shiny/Buscador - Links/Buscador out of shiny 2.R', echo=TRUE)
source('~/Apps with shiny/Buscador - Links/Reset DB.R', echo=TRUE)
source('~/Apps with shiny/Buscador - Links/Buscador out of shiny 2.R', echo=TRUE)
source('~/Apps with shiny/Buscador - Links/Reset DB.R', echo=TRUE)
source('~/Apps with shiny/Buscador - Links/Buscador out of shiny 2.R', echo=TRUE)
source('~/Apps with shiny/Buscador - Links/Reset DB.R', echo=TRUE)
source('~/Apps with shiny/Buscador - Links/Buscador out of shiny 2.R', echo=TRUE)
source('~/Apps with shiny/Buscador - Links/Reset DB.R', echo=TRUE)
source('~/Apps with shiny/Buscador - Links/Buscador out of shiny 2.R', echo=TRUE)
rm(list = ls())
source('~/Apps with shiny/Buscador - Links/Reset DB.R', echo=TRUE)
source('~/Apps with shiny/Buscador - Links/Buscador out of shiny 2.R', echo=TRUE)
texto <<- getURL("http://www.rollingstone.com")
rm(list = ls())
texto <<- getURL("http://www.rollingstone.com")
links <- data.frame(str_split(texto, "href=\""), stringsAsFactors=FALSE)
links[,1] <- word(links[,1], start = 1L, end = 1, sep = "\"")
View(links)
links <- links[grepl("javascript:void",links[,1] ) == FALSE,1]
links <- links[grepl("/",links) == TRUE]
links <- links[grepl("css",links) == FALSE]
links <- links[nchar(links) > 5]
links <- links[duplicated(links) == FALSE]
links <- links[grepl("facebook",links) == FALSE]
links <- links[grepl("twitter",links) == FALSE]
links <- links[grepl("whatsapp",links) == FALSE]
links <- links[grepl("adserver",links) == FALSE]
links <- links[grepl(".jpg",links) == FALSE]
links <- links[grepl(".png",links) == FALSE]
links <- links[grepl(".ico",links) == FALSE]
links <- links[grepl(".ico",links) == FALSE]
links <- links[grepl("play.google.com",links) == FALSE]
links <- links[grepl("modal.html",links) == FALSE]
links <- links[grepl("\t",links) == FALSE]
links <- links[grepl("blavatar",links) == FALSE]
links <- links[grepl("<",links) == FALSE]
links <- links[grepl("/img/",links) == FALSE]
## Extrae Webs externas
links_externos <- links[grepl("http",links) == TRUE]
links_internos <- links[grepl("http",links) == FALSE]
## Guarda el listado
for (x in 1:length(links_internos)) {
if (length(links_internos) > 0 & all(General[,"link"] != links_internos[x]) == TRUE) {
General[nrow(General)+1,] <<- c(URL, "Interno", links_internos[x], FALSE, "")
}
}
for (x in 1:length(links_externos)) {
if (length(links_externos) > 0 & all(General[,"link"] != links_externos[x]) == TRUE) {
General[nrow(General)+1,] <<- c(URL, "Externo", links_externos[x], FALSE, "")
}
rm(list = ls())
source('~/Apps with shiny/Buscador - Links/Reset DB.R', echo=TRUE)
rm(list = ls())
rm(list = ls())
library(shiny)
library(stringr)
library(RCurl)
## Carga archivos
General <- readRDS("LinkBot.rds")
ratio_revisadas <- readRDS("ratio_revisadas.rds")
target_words <- readRDS("target_words.rds")
## Define variables
completed_URL <- ""
procesar <- FALSE
while (any(General[,"revisada"] == FALSE)){
## Arma nueva URL
new_URL <- General[General[,"revisada"] == FALSE, "link"]
URL <- new_URL[1]
if (grepl("^/", URL) == FALSE & grepl("^http", URL) == FALSE) {
URL <- paste("/", URL, sep = "")
General[General[,"link"] == new_URL[1], "link"] <- URL
}
## Marca la URL como revisada
General[General[,"link"] == URL, "revisada"] <- TRUE
new_URL <<- General[General[,"revisada"] == FALSE, "link"]
URL <- new_URL[1]
if (grepl("^/", URL) == FALSE & grepl("^http", URL) == FALSE) {
URL <- paste("/", URL, sep = "")
General[General[,"link"] == new_URL[1], "link"] <- URL
}
## Marca la URL como revisada
General[General[,"link"] == URL, "revisada"] <- TRUE
## Lee el codigo
if (grepl("http", URL) == TRUE) {
texto <<- getURL(URL)
} else {
URL <- paste(General[General[,"link"] == URL, "web_madre"], URL, sep ="")
texto <<- getURL(URL)
}
## Guarda el ratio de vistas/total
ratio_revisadas[length(ratio_revisadas) + 1] <- ((nrow(General[General[, "revisada"] == TRUE,]))*100) / nrow(General)
saveRDS(ratio_revisadas, file = "ratio_revisadas.rds")
## Muestra resultados
plot(ratio_revisadas)
## Extrae el title
title <- word(texto, start = 1L, end = 1, sep = "</title>")
title <- data.frame(str_split(title, "<title>"), stringsAsFactors=FALSE)
General[General[,"link"] == new_URL[1], "titulo"] <- title[2,1]
## Extrae description
texto_desc <- texto <- gsub("\"", " ", texto)
description <- data.frame(str_split(texto_desc, "description  content="), stringsAsFactors=FALSE)
description2 <- word(description[2,1], start = 1L, end = 1, sep = ">")
General[General[,"link"] == new_URL[1], "description"] <- description2
for (x in target_words) {
if (grepl(x, description2) == TRUE) {
procesar <<- TRUE
}
}
if (procesar == TRUE) {
print("EEEEEEEEEESSSSSSTA SIIIIIIIIIIII!!!!!!!!")
## Extrae solo el Body
p <- data.frame(str_split(texto, "</head>"), stringsAsFactors=FALSE)
p <- p[2,]
p <- word(p, start = 1L, end = 1, sep = "</body>")
##Extrae los links
links <- data.frame(str_split(p, "href=\""), stringsAsFactors=FALSE)
print(nrow(links))
links[,1] <- word(links[,1], start = 1L, end = 1, sep = "\"")
## Elimina links no interesantes
links <- links[grepl("javascript:void",links[,1] ) == FALSE,1]
links <- links[grepl("/",links) == TRUE]
links <- links[grepl("css",links) == FALSE]
links <- links[nchar(links) > 5]
links <- links[duplicated(links) == FALSE]
links <- links[grepl("facebook",links) == FALSE]
source('~/Apps with shiny/Buscador - Links/Reset DB.R', echo=TRUE)
source('~/Apps with shiny/Buscador - Links/Buscador out of shiny 2.R', echo=TRUE)
source('~/Apps with shiny/Buscador - Links/Reset DB.R', echo=TRUE)
source('~/Apps with shiny/Buscador - Links/Buscador out of shiny 2.R', echo=TRUE)
source('~/Apps with shiny/Buscador - Links/Reset DB.R', echo=TRUE)
source('~/Apps with shiny/Buscador - Links/Buscador out of shiny 2.R', echo=TRUE)
source('~/Apps with shiny/Buscador - Links/Buscador out of shiny 2.R', echo=TRUE)
library(XML)
install.packages("xml", dependencies = TRUE)
library(datasets)
library(datasets)
data(airquality)
airquality = transform(airquality, Month = factor(Month))
qplot(Wind, Ozone, data = airquality, facets = . ~ Month)
library(ggplot2)
qplot(Wind, Ozone, data = airquality, facets = . ~ Month)
data(airquality)
qplot(Wind, Ozone, data = airquality, facets = . ~ factor(Month))
library(XML)
library(RCurl)
caca <- getURL("http://as.com/")
caca <- getURL("http://www.concertpromotersassociation.co.uk")
caca <- getURL("http://as.com")
caca <- getURL("http://www.as.com")
getwd()
caca <- readRDS("AccessLog.rds")
View(caca)
shiny::runApp('Apps with shiny/PSYC')
shiny::runApp('Apps with shiny/PSYC')
source('~/.active-rstudio-document', echo=TRUE)
getwd()
source('~/.active-rstudio-document', echo=TRUE)
getwd()
library(knitr)
source('~/.active-rstudio-document', echo=TRUE)
